/*!
 * backbone-getset - 0.1.2
 * https://github.com/numbers1311407/backbone-getset
 * Copyright(c) 2014 Travis Cox <numbers1311407@gmail.com>
 * MIT License
 */
!function(a,b){if("function"!=typeof define||!define.amd){if("object"==typeof exports){var c=require("backbone");return b(exports,c,require("underscore")),c}return b({},a.Backbone,a._),a.Backbone}define(["exports","Backbone","underscore"],b)}(this,function(a,b,c){function d(a,b,d){b.prototype[a]&&(d.prototype[a]=c.extend({},b.prototype[a],d.prototype[a]))}var e=b.Model.extend;b.Model.extend=function(){var a=e.apply(this,arguments);return d("getters",this,a),d("setters",this,a),a};var f=b.Model.prototype.set;c.extend(b.Model.prototype,{getters:{},setters:{},set:function(a,b,d){var e;return null==a?this:("object"==typeof a?(e=a,d=b):(e={})[a]=b,c.each(this.setters,function(a,b){c.has(e,b)&&(e[b]=a.call(this,e[b]))},this),f.call(this,e,d))},get:function(a){return this.getters&&this.getters[a]?this.getters[a].call(this):this.attributes[a]},toJSON:function(a){a||(a={});var b=c.clone(this.attributes);return a.getters&&c.each(this.getters,function(a,c){b[c]=a.call(this)},this),b}})});